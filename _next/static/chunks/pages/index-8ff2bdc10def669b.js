(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8581:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(1970)}])},1970:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSG:function(){return j},default:function(){return v}});var r=t(5893),i=t(6494),a=t(7294),o=t(8520),c=t.n(o),s=t(1812),u=t(6886),d=t(417),l=t(1903);function m(e,n,t,r,i,a,o){try{var c=e[a](o),s=c.value}catch(u){return void t(u)}c.done?n(s):Promise.resolve(s).then(r,i)}function f(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function _(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){f(e,n,t[n])}))}return e}var g=function(e){var n,t=e.loading,i=e.noc,a=e.nocList,o=e.nocSelected,f=e.pruidList,g=e.setLoading,h=e.setNocSelected,p=e.setWages,x=new Intl.NumberFormat("en-US",{style:"currency",currency:"CAD"}),w=function(e){return x.format(parseInt(e))},j=(n=c().mark((function e(n,t){var r,i,a,o,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),g(!0),p([]),r="https://orient.onrender.com/gc/wages/".concat(t),e.next=6,fetch(r);case 6:return i=e.sent,e.next=9,i.json();case 9:return a=e.sent,e.next=12,a.map((function(e){var n=f.filter((function(n){return String(n.pruid)==e.pruid}))[0].name;return _({},e,{med_wage:w(e.med_wage),max_wage:w(e.max_wage),min_wage:w(e.min_wage),name:n})}));case 12:return o=e.sent,e.next=15,o.sort((function(e,n){return e.name.localeCompare(n.name)}));case 15:s=e.sent,p(s),g(!1);case 18:case"end":return e.stop()}}),e)})),function(){var e=this,t=arguments;return new Promise((function(r,i){var a=n.apply(e,t);function o(e){m(a,r,i,o,c,"next",e)}function c(e){m(a,r,i,o,c,"throw",e)}o(void 0)}))});return(0,r.jsx)("form",{onSubmit:function(e){return j(e,o)},children:(0,r.jsxs)(u.ZP,{container:!0,spacing:1,direction:"row",alignItems:"center",justifyContent:"center",children:[(0,r.jsx)(u.ZP,{item:!0,xs:12,sm:8,md:8,lg:8,children:(0,r.jsx)(d.Z,{id:"noc",getOptionLabel:function(e){return"".concat(e.noc," - ").concat(e.title)},inputValue:i,onChange:function(e,n){h(n?n.noc:"")},options:a,renderInput:function(e){return(0,r.jsx)(l.Z,_({},e,{InputLabelProps:{shrink:!0},label:"NOC - Job Title",required:!0}))},value:i,autoHighlight:!0,autoComplete:!0,disablePortal:!0,fullWidth:!0})}),(0,r.jsx)(u.ZP,{item:!0,children:(0,r.jsx)(s.Z,{loading:t,loadingIndicator:"Loading...",type:"submit",sx:{padding:"1rem"},variant:"contained",children:"Get Wage"})})]})})},h=t(9008),p=t(7852),x=t.n(p),w=[{field:"name",headerName:"Province/Territory",flex:1},{field:"med_wage",headerName:"Median",flex:1},{field:"max_wage",headerName:"Maximum",flex:1},{field:"min_wage",headerName:"Minimum",flex:1},{field:"ref_period",headerName:"Reference Period",flex:1}],j=!0;function v(e){var n=e.nocList,t=e.pruidList,o=(0,a.useState)(!1),c=o[0],s=o[1],u=(0,a.useState)(""),d=u[0],l=u[1],m=(0,a.useState)([]),f=m[0],_=m[1];return(0,r.jsxs)("div",{className:x().container,children:[(0,r.jsxs)(h.default,{children:[(0,r.jsx)("title",{children:"Canadian Wages"}),(0,r.jsx)("meta",{name:"description",content:"Find wages by occupation (NOC) throughout Canada"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsxs)("main",{className:x().main,children:[(0,r.jsx)("h1",{className:x().title,children:"Search Canadian Wages"}),(0,r.jsx)("div",{className:x().formContainer,children:(0,r.jsx)(g,{loading:c,nocList:n,nocSelected:d,pruidList:t,setLoading:s,setNocSelected:l,setWages:_,wages:f})}),(0,r.jsx)("div",{className:x().dataGridContainer,children:f.length?(0,r.jsx)(i._,{getRowId:function(e){return e.eruid},columns:w,rows:f,sx:{border:"5px solid rgba(0, 0, 0, .25)","& .MuiDataGrid-columnHeaderTitle":{fontWeight:800}},autoHeight:!0,hideFooter:!0}):""})]}),(0,r.jsx)("footer",{className:x().footer,children:"\xa9 Felix"})]})}},7852:function(e){e.exports={container:"Home_container__bCOhY",main:"Home_main__nLjiQ",footer:"Home_footer____T7K",title:"Home_title__T09hD",formContainer:"Home_formContainer__2IRXH",code:"Home_code__suPER",dataGridContainer:"Home_dataGridContainer__ekCcf",grid:"Home_grid__GxQ85",card:"Home_card___LpL1",logo:"Home_logo__27_tb"}}},function(e){e.O(0,[334,774,888,179],(function(){return n=8581,e(e.s=n);var n}));var n=e.O();_N_E=n}]);